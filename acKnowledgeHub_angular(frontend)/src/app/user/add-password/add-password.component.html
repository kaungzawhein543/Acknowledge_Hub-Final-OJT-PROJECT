<div class="min-h-screen flex items-center justify-center bg-gray-100">
    <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8">
        <span class="text-3xl  font-bold text-gray-800 text-center">
            Change Password
        </span>

        <div *ngIf="successMessage" class="bg-green-100 text-green-700 p-4 rounded  mb-4 flex items-center">
            <i class="fas fa-check-circle text-green-500 mr-2"></i>{{ successMessage }}
        </div>

        <div *ngIf="errorMessage" class="bg-red-100 text-red-700 p-4 rounded mb-4 flex items-center">
            <i class="fas fa-exclamation-circle text-red-500 mr-2"></i>{{ errorMessage }}
        </div>

        <form (ngSubmit)="addPassword()" #changePasswordForm="ngForm" class="my-10 space-y-6">
            <div class="form-group">
                <label for="oldPassword" class="block text-gray-700 font-medium mb-2">
                    Password
                </label>
                <div class="relative">
                    <input [type]="showPassword ? 'text' : 'password'" id="oldPassword" name="oldPassword"
                        [(ngModel)]="password" required minlength="6"
                        class="w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                        #oldPasswordInput="ngModel" />
                    <button type="button" (click)="togglePasswordVisibility()"
                        class="absolute inset-y-0 right-0 pr-3 flex items-center">
                        <i *ngIf="showPassword" class="fa-regular fa-eye"></i>
                        <i *ngIf="!showPassword" class="fa-regular fa-eye-slash"></i>
                    </button>
                </div>
                <div *ngIf="oldPasswordInput.errors?.['required'] && oldPasswordInput.touched"
                    class="text-red-600 text-sm mt-2">
                    <i class="fas fa-exclamation-circle mr-1"></i>Password is required.
                </div>
                <div *ngIf="oldPasswordInput.errors?.['minlength'] && oldPasswordInput.touched"
                    class="text-red-600 text-sm mt-2">
                    <i class="fas fa-exclamation-circle mr-1"></i>Password must be at least 6 characters long.
                </div>
            </div>

            <div class="form-group">
                <label for="newPassword" class="block text-gray-700 font-medium mb-2">
                    Confirm Password
                </label>
                <div class="relative">
                    <input [type]="showConfirmPassword ? 'text' : 'password'" id="newPassword" name="newPassword"
                        [(ngModel)]="confirmPassword" required minlength="6"
                        class="w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                        #newPasswordInput="ngModel" />
                    <button type="button" (click)="toggleConfirmPasswordVisibility()"
                        class="absolute inset-y-0 right-0 pr-3 flex items-center">
                        <i *ngIf="showConfirmPassword" class="fa-regular fa-eye"></i>
                        <i *ngIf="!showConfirmPassword" class="fa-regular fa-eye-slash"></i>
                    </button>
                </div>
                <div *ngIf="newPasswordInput.errors?.['required'] && newPasswordInput.touched"
                    class="text-red-600 text-sm mt-2">
                    <i class="fas fa-exclamation-circle mr-1"></i>Confirm password is required.
                </div>
                <div *ngIf="confirmPassword !== password && newPasswordInput.touched" class="text-red-600 text-sm mt-2">
                    <i class="fas fa-exclamation-circle mr-1"></i>Confirm password must match the password.
                </div>
            </div>

            <button type="submit"
                class="w-full bg-[#1b4980] text-white font-semibold p-3 rounded hover:bg-blue-600 transition flex items-center justify-center"
                [disabled]="changePasswordForm.invalid || confirmPassword !== password">
                Change Password
            </button>
        </form>

        <a routerLink="/acknowledgeHub/login" class="block text-center text-blue-500 mt-6 hover:underline">
            <i class="fas fa-arrow-left mr-2"></i>Back to Login
        </a>
    </div>
</div>